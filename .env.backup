# ===============================================
# CONFIGURACIÓN DEL PROYECTO Y SERVIDOR
# ===============================================
PROJECT_NAME="Chatbot Multimarca Beta"
PROJECT_VERSION="1.0.1"
SERVER_HOST="0.0.0.0"
SERVER_PORT="8000"
ENVIRONMENT="development"
DEBUG="True"
LOG_LEVEL="DEBUG" # Asegurar DEBUG para la depuración
PROJECT_SITE_URL="http://localhost:8000" # Cambia a tu URL de ngrok/producción para el header Referer

# ===============================================
# CONEXIÓN A BASE DE DATOS POSTGRESQL (AZURE)
# ===============================================
# Prioridad: DATABASE_URL. Si está presente, los componentes PG* no son estrictamente necesarios para la conexión.
DATABASE_URL="postgresql+asyncpg://useradmin:Chat8121943.@chatbot-iram.postgres.database.azure.com:5432/chatbot_db?ssl=require"
# Los siguientes son útiles si DATABASE_URL no se define y config.py la construye, o para otras herramientas.
PGHOST="chatbot-iram.postgres.database.azure.com"
PGPORT=5432 # Puede ser string o int, Pydantic lo maneja si es para PostgresDsn
PGDATABASE="chatbot_db"
PGUSER="useradmin"
PGPASSWORD="Chat8121943."
POSTGRES_SSL_MODE="require" # Usado por config.py si construye la URL

# ===============================================
# WHATSAPP BUSINESS API (META)
# ===============================================
WHATSAPP_VERIFY_TOKEN="Julia" # Tu token de verificación
WHATSAPP_ACCESS_TOKEN="EAAJtmxxtxScBO2rZB0hZAREor30UII4vWncKV3hCOGFlmcIpRmvKNpYROUPW6eHuwbDt7p5JFWHYuZCHcnfbFOHH9TZAMakmnnfdEuoocCzeU63lTsqfSZAD1m05tZBowKMsL6qJLNwHzhtoOpGI5nLf3LWXZBsDo5k985PutKU7vtV2rVb6Wke7dPNmUHkk2XKCQZDZD"
WHATSAPP_PHONE_NUMBER_ID="665300739992317"
META_API_VERSION="v22.0"
# APP_ID="683462917735719" # No usado activamente por el código actual
# APP_SECRET="37ca6279f0c98a2afd27a7204802ba4a" # No usado activamente por el código actual

# ===============================================
# AZURE STORAGE (PARA ÍNDICE FAISS)
# ===============================================
STORAGE_ACCOUNT_NAME="chat2025"
CONTAINER_NAME="chat2025"
# ¡CRÍTICO! Obtén esto de tu cuenta de almacenamiento en Azure Portal -> Claves de acceso
AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;AccountName=chat2025;***REMOVED***;EndpointSuffix=core.windows.net"

# ===============================================
# CONFIGURACIÓN DE IA, RAG Y MODELOS DE LENGUAJE
# ===============================================
# --- RAG y FAISS ---
EMBEDDING_MODEL_NAME="sentence-transformers/paraphrase-multilingual-mpnet-base-v2"
FAISS_INDEX_NAME="index"                       # Nombre base de los archivos del índice FAISS (ej. index.faiss, index.pkl)
FAISS_FOLDER_NAME="faiss_index_kb_spanish_v1"  # Carpeta DENTRO de DATA_DIR donde están los archivos del índice
RAG_DEFAULT_K=3
RAG_K_FETCH_MULTIPLIER=2
RAG_MIN_CONTEXT_LENGTH_THRESHOLD=50

# --- LLM (OpenRouter.ai) ---
OPENROUTER_API_KEY="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"
OPENROUTER_MODEL_CHAT="meta-llama/llama-3-8b-instruct"
OPENROUTER_CHAT_ENDPOINT="https://openrouter.ai/api/v1"
LLM_TEMPERATURE=0.5
LLM_MAX_TOKENS=1000
LLM_HTTP_TIMEOUT=45.0

HUGGINGFACE_TOKEN="***REMOVED***" # Solo si usas modelos privados de HF

# ===============================================
# CALENDLY (AGENDAMIENTO)
# ===============================================
CALENDLY_API_KEY="***REMOVED***"
CALENDLY_EVENT_TYPE_URI="https://api.calendly.com/event_types/6943da13-c493-4a09-8830-2184f4332a92"
CALENDLY_USER_SLUG="chatbotiram-mex"
CALENDLY_TIMEZONE="America/Mexico_City"
CALENDLY_DAYS_TO_CHECK=7
CALENDLY_GENERAL_SCHEDULING_LINK="https://calendly.com/chatbotiram-mex/ira-mexico" 

# ===============================================
# LOGGING (Formatos y otros detalles están en config.py)
# ===============================================
# LOG_FORMAT se define en config.py
# Tamaño máximo del archivo de log antes de rotar (10MB = 10 * 1024 * 1024 bytes)
LOG_MAX_SIZE_BYTES=10485760
# Número de archivos de log de respaldo a mantener
LOG_BACKUP_COUNT=30

# ===============================================
# VARIABLES DE FACEBOOK MESSENGER (Si se usa)
# ===============================================
# MESSENGER_PAGE_ACCESS_TOKEN="your_facebook_page_access_token"

# ===============================================
# OTRAS VARIABLES DE AZURE (Para referencia o scripts de despliegue, no usadas por la app directamente)
# ===============================================
# AZURE_SUBSCRIPTION_ID="148212ee-39f9-4c68-a01c-893b20634d54"
# AZURE_RESOURCE_GROUP="beta-bot"
# AZURE_LOCATION="Mexico_City" # O "eastus" si es donde realmente despliegas
VERIFY_TOKEN="Julia"
